import{a as B}from"./chunk-SNMMSVC5.js";import{e as k,g as F}from"./chunk-35PPAQLC.js";import{a as Q,b as q,e as L,g as A,h as N,k as j}from"./chunk-FSMFIZ3J.js";import{H as S,Ja as V,L as P,N as d,V as m,W as M,X as u,Z as _,aa as e,ba as i,ca as w,da as E,fa as f,ga as l,la as r,ma as p,n as y,pa as D,ra as b,s as C,sa as I,t as h,ta as T,u as v,y as g,ya as O,z as x}from"./chunk-7PXBTGXQ.js";import"./chunk-5VTWB77A.js";function z(t,o){t&1&&(e(0,"p"),r(1,"Loading..."),i())}function K(t,o){if(t&1&&(e(0,"p"),r(1),i()),t&2){let n=l();d(),p(n.productQuery.error().message)}}var R=t=>["/categories",t];function U(t,o){if(t&1){let n=E();e(0,"div",0)(1,"div",1),w(2,"img",2),i(),e(3,"div",1)(4,"span"),r(5,"Id:"),i(),e(6,"span"),r(7),i()(),e(8,"div",1)(9,"span"),r(10,"Category: "),i(),e(11,"a",3),r(12),I(13,"titlecase"),i()(),e(14,"div",1)(15,"span"),r(16,"Description: "),i(),e(17,"span"),r(18),i()(),e(19,"div",1)(20,"span"),r(21,"Price: "),i(),e(22,"span"),r(23),i()()(),e(24,"div",4)(25,"input",5),f("ngModelChange",function(c){g(n);let s=l(3);return x(s.quantity.set(c))}),i(),e(26,"button",6),f("click",function(){g(n);let c=l(),s=l(2);return x(s.addItem(c))}),r(27,"Add"),i()()}if(t&2){let n=l(),a=l(2);d(2),u("src",n.image,S),M("alt",n.title||"product image"),d(5),p(n.id),d(4),u("routerLink",b(10,R,n.category)),d(),p(T(13,8,n.category)),d(6),p(n.description),d(5),p(n.price),d(2),u("ngModel",a.quantity())}}function G(t,o){t&1&&m(0,U,28,12),t&2&&_(0,o?0:-1)}function H(t,o){if(t&1&&m(0,G,1,1),t&2){let n=l(),a;_(0,(a=n.productQuery.data())?0:-1,a)}}var rt=(()=>{let o=class o{constructor(){this.id=y(),this.cartService=C(B),this.productService=C(F),this.quantity=P(1),this.productQuery=k(()=>({queryKey:["products",this.id()],queryFn:()=>this.productService.getProduct(this.id())}))}addItem(a){a&&this.cartService.addItem(a,this.quantity())}};o.\u0275fac=function(c){return new(c||o)},o.\u0275cmp=v({type:o,selectors:[["app-product-details"]],inputs:{id:[h.SignalBased,"id"]},standalone:!0,features:[D],decls:4,vars:1,consts:[[1,"product"],[1,"row"],["width","200","height","200",3,"src"],[3,"routerLink"],[1,"buttons"],["type","number","min","1",1,"order",3,"ngModel","ngModelChange"],[3,"click"]],template:function(c,s){c&1&&(e(0,"div"),m(1,z,2,0,"p")(2,K,2,1)(3,H,1,1),i()),c&2&&(d(),_(1,s.productQuery.isPending()?1:s.productQuery.isError()?2:s.productQuery.isSuccess()?3:-1))},dependencies:[O,j,Q,A,q,N,L,V],styles:[".product[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]{margin-bottom:1rem}.row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.25rem}.row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{color:#aaa;width:20%}.row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){width:80%}input.order[_ngcontent-%COMP%]{width:100px;height:30px;margin-right:.5rem}"],changeDetection:0});let t=o;return t})();export{rt as ProductDetailsComponent};
