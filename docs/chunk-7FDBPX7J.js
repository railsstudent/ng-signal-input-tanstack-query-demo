import{a as v}from"./chunk-SNMMSVC5.js";import{a as b,b as P,e as k,g as U,h as B,k as D}from"./chunk-FSMFIZ3J.js";import{$ as V,Ja as L,N as c,R as F,V as y,X as s,Z as M,_ as O,aa as i,ba as n,ca as u,da as w,fa as g,ga as _,ka as E,la as o,ma as S,n as I,na as f,pa as C,ra as A,s as d,sa as N,t as T,u as p,ua as j,y as h,z as x,za as q}from"./chunk-7PXBTGXQ.js";import"./chunk-5VTWB77A.js";var H=t=>["/products",t],$=(()=>{let e=class e{constructor(){this.cartService=d(v),this.item=I.required()}delete(l){this.cartService.deleteItem(l)}update(l,a){this.cartService.updateItem(l,a)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=p({type:e,selectors:[["app-cart-item"]],inputs:{item:[T.SignalBased,"item"]},standalone:!0,features:[C],decls:18,vars:8,consts:[[1,"row"],[2,"width","10%"],[3,"routerLink"],[2,"width","20%"],[2,"width","40%"],["type","number","min","1",2,"width","50px",3,"ngModel"],["ctrl","ngModel"],[1,"btnUpdate",3,"click"],[3,"click"]],template:function(a,r){if(a&1){let X=w();i(0,"div",0)(1,"p",1)(2,"a",2),o(3),n()(),i(4,"p",3),o(5),n(),i(6,"p",4),o(7),n(),i(8,"p",1),o(9),n(),i(10,"p",1),u(11,"input",5,6),n(),i(13,"p",1)(14,"button",7),g("click",function(){h(X);let z=E(12);return x(r.update(r.item().id,z.value))}),o(15,"Update"),n(),i(16,"button",8),g("click",function(){return r.delete(r.item().id)}),o(17,"X"),n()()()}a&2&&(c(2),s("routerLink",A(6,H,r.item().id)),c(),S(r.item().id),c(2),S(r.item().title),c(2),S(r.item().description),c(2),S(r.item().price),c(2),s("ngModel",r.item().quantity))},dependencies:[D,b,U,P,B,k,L],styles:[".row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{border:1px solid black}.btnUpdate[_ngcontent-%COMP%]{margin-right:.25rem}"],changeDetection:0});let t=e;return t})();function J(t,e){if(t&1&&(i(0,"div",1)(1,"div",2),o(2),N(3,"percent"),n(),i(4,"div",2),o(5),n()()),t&2){let m=_();c(2),f("Minus ",j(3,2,m.discountPercent(),"2.2-2"),""),c(3),f("Discount: ",m.summary().discount,"")}}var R=(()=>{let e=class e{constructor(){this.cartService=d(v),this.summary=this.cartService.summary,this.discountPercent=this.cartService.discountPercent}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=p({type:e,selectors:[["app-cart-total"]],standalone:!0,features:[C],decls:12,vars:4,consts:[[1,"summary"],[1,"row"],[1,"col"],["class","row"]],template:function(a,r){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),o(3),n(),i(4,"div",2),o(5),n()(),y(6,J,6,5,"div",3),i(7,"div",1)(8,"div",2),o(9,"\xA0"),n(),i(10,"div",2),o(11),n()()()),a&2&&(c(3),f("Qty: ",r.summary().quantity,""),c(2),f("Subtotal: ",r.summary().subtotal,""),c(),M(6,r.discountPercent()>0?6:-1),c(5),f("Total: ",r.summary().total,""))},dependencies:[q],styles:[".summary[_ngcontent-%COMP%]{border:1px solid black;margin-bottom:1rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.col[_ngcontent-%COMP%]{width:20%}"],changeDetection:0});let t=e;return t})();var K=(t,e)=>e.id;function W(t,e){if(t&1&&u(0,"app-cart-item",9),t&2){let m=e.$implicit;s("item",m)}}function Z(t,e){if(t&1){let m=w();i(0,"div",1)(1,"div",2)(2,"p",3),o(3,"Id"),n(),i(4,"p",4),o(5,"Title"),n(),i(6,"p",5),o(7,"Description"),n(),i(8,"p",3),o(9,"Price"),n(),i(10,"p",3),o(11,"Qty"),n(),i(12,"p",3),o(13,"\xA0"),n()(),O(14,W,1,1,"app-cart-item",9,K),u(16,"app-cart-total"),i(17,"span"),o(18,"Promotion code: "),n(),u(19,"input",6,7),i(21,"button",8),g("click",function(){h(m);let a=E(20),r=_();return x(r.promoCode.set(a.value))}),o(22,"Apply"),n()()}if(t&2){let m=_();c(14),V(m.cart()),c(5),s("ngModel",m.promoCode())}}function ee(t,e){t&1&&(i(0,"p"),o(1,"Your cart is empty, please buy something."),n())}var xe=(()=>{let e=class e{constructor(){this.cartService=d(v),this.cart=this.cartService.cart,this.promoCode=this.cartService.promoCode,F(()=>{console.log("Promo code changes to ",this.promoCode()),console.log("Cart changes to ",this.cart())})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=p({type:e,selectors:[["app-cart"]],standalone:!0,features:[C],decls:2,vars:1,consts:[["class","cart"],[1,"cart"],[1,"row"],[2,"width","10%"],[2,"width","20%"],[2,"width","40%"],[3,"ngModel"],["promotionCode","ngModel"],[3,"click"],[3,"item"]],template:function(a,r){a&1&&y(0,Z,23,1,"div",0)(1,ee,2,0),a&2&&M(0,r.cart().length>0?0:1)},dependencies:[$,R,D,b,P,k],styles:[".row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{border:1px solid black}input[_ngcontent-%COMP%]{margin-right:.25rem}"],changeDetection:0});let t=e;return t})();export{xe as CartComponent};
